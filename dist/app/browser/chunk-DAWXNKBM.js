import{a as q,b as A}from"./chunk-MB7EIG4P.js";import{b as I,c as i,d as N,e as F,f as y,g as p,h as P,i as E,j as L,k as T,l as O,m as k,n as R,o as G}from"./chunk-FXOEHSRQ.js";import{e as _,f as M}from"./chunk-WX7HPRS6.js";import{h as x,j as S,m as b}from"./chunk-DQDWTQMD.js";import{Na as f,Pa as l,Sa as e,Ta as t,Ua as d,Y as h,Za as w,hb as o,ib as v,lb as C,mb as u,ya as r,za as g}from"./chunk-HTWP6J2Z.js";var c=m=>({"is-invalid":m});function D(m,V){m&1&&(e(0,"div",19),o(1," Password must: "),e(2,"ul")(3,"li"),o(4,"Start with an uppercase letter."),t(),e(5,"li"),o(6,"Contain at least one number."),t(),e(7,"li"),o(8,"Contain at least one special character."),t(),e(9,"li"),o(10,"Be 8-20 characters long."),t()()())}function $(m,V){m&1&&(e(0,"p",19),o(1," Passwords do not match. "),t())}var te=(()=>{class m{constructor(s,a){this._authservice=s,this._router=a,this.msg="",this.errmsg="",this.register=new y({username:new p("",[i.required,i.maxLength(15),i.minLength(6)]),firstName:new p("",[i.required,i.maxLength(15),i.minLength(6)]),lastName:new p("",[i.required,i.maxLength(15),i.minLength(6)]),email:new p("",[i.required,i.email]),password:new p("",[i.required,i.pattern(/^[A-Z](?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{7,19}$/)]),rePassword:new p("",i.required),phone:new p("",[i.required,i.pattern(/^01[0125][0-9]{8}$/)])},{validators:this.passwordMatchValidator})}passwordMatchValidator(s){let a=s.get("password")?.value,n=s.get("rePassword")?.value;return a===n?null:{passwordsMismatch:!0}}isFieldInvalid(s){let a=this.register.get(s);return!!(a&&a.invalid&&(a.dirty||a.touched))}onSubmit(){this._authservice.signup(this.register.value).subscribe({next:s=>{this.msg=s.message,this._router.navigate(["/auth/login"])},error:s=>{this.errmsg=s.message}})}static{this.\u0275fac=function(a){return new(a||m)(g(G),g(_))}}static{this.\u0275cmp=h({type:m,selectors:[["app-register"]],standalone:!0,features:[C],decls:33,vars:26,consts:[[1,"container","p-5"],[1,"inner"],[1,"p-5",3,"ngSubmit","formGroup"],[1,"mb-4"],[1,"col-md-12"],["pInputText","","formControlName","username","placeholder","User Name",1,"w-75","mb-3",3,"ngClass"],["pInputText","","formControlName","firstName","placeholder","First Name",1,"w-75","mb-3",3,"ngClass"],["pInputText","","formControlName","lastName","placeholder","Last Name",1,"w-75","mb-3",3,"ngClass"],["pInputText","","formControlName","email","placeholder","Email",1,"w-75","mb-4",3,"ngClass"],[1,"col-md-12","w-75","mb-3"],["formControlName","password","placeholder","Password",1,"p-fluid",3,"toggleMask","ngClass"],["class","text-danger",4,"ngIf"],["formControlName","rePassword","placeholder","Confirm Password",1,"p-fluid",3,"toggleMask"],["type","text","formControlName","phone","pInputText","","placeholder","Phone Number",1,"w-100",3,"ngClass"],[1,"text-center","w-75"],[1,"text-dark","w-100","fw-medium","m-0","fs-6"],["routerLink","/auth/login",1,"text-decoration-none"],["type","submit",1,"mt-5","text-center","w-75","py-3",3,"disabled"],[1,"text-success"],[1,"text-danger"]],template:function(a,n){a&1&&(e(0,"div",0)(1,"div",1)(2,"form",2),w("ngSubmit",function(){return n.onSubmit()}),e(3,"h2",3),o(4,"Sign up"),t(),e(5,"div",4),d(6,"input",5),t(),e(7,"div",4),d(8,"input",6),t(),e(9,"div",4),d(10,"input",7),t(),e(11,"div",4),d(12,"input",8),t(),e(13,"div",9),d(14,"p-password",10),f(15,D,11,0,"div",11),t(),e(16,"div",9),d(17,"p-password",12),f(18,$,2,0,"p",11),t(),e(19,"div",9),d(20,"input",13),t(),e(21,"div",14)(22,"p",15),o(23," Already have an account? "),e(24,"span")(25,"a",16),o(26,"Login"),t()()()(),e(27,"button",17),o(28," Create an account "),t()(),e(29,"p",18),o(30),t(),e(31,"p",19),o(32),t()()()),a&2&&(r(2),l("formGroup",n.register),r(4),l("ngClass",u(14,c,n.isFieldInvalid("username"))),r(2),l("ngClass",u(16,c,n.isFieldInvalid("firstName"))),r(2),l("ngClass",u(18,c,n.isFieldInvalid("lastName"))),r(2),l("ngClass",u(20,c,n.isFieldInvalid("email"))),r(2),l("toggleMask",!0)("ngClass",u(22,c,n.isFieldInvalid("password"))),r(),l("ngIf",n.isFieldInvalid("password")),r(2),l("toggleMask",!0),r(),l("ngIf",n.register.hasError("passwordsMismatch")),r(2),l("ngClass",u(24,c,n.isFieldInvalid("phone"))),r(7),l("disabled",n.register.invalid),r(3),v(n.msg),r(2),v(n.errmsg))},dependencies:[b,x,S,T,P,I,N,F,O,E,L,R,k,A,q,M],styles:["form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:var(--main-color);color:#fff;border-radius:25px;padding:8px;box-shadow:0 18px 30px #2f1c1c1a}input[_ngcontent-%COMP%]:focus, p-password[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}h2[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:700;font-size:24px;line-height:30px}.is-invalid[_ngcontent-%COMP%], .is-invalid[_ngcontent-%COMP%]   .p-inputtext[_ngcontent-%COMP%], .is-invalid[_ngcontent-%COMP%]   .p-password-input[_ngcontent-%COMP%]{border:1px solid red!important}"]})}}return m})();export{te as a};
